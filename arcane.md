---
layout: default
---

# Arcane

In Arcane, a 3D 3rd person action roguelike, players fight their way through increasingly difficult worlds with procedurally generated terrain, enemies, and loot. Players will defeat enemies with magic spells, working to upgrade their spells and conquer each world’s boss to advance to the next one.

## Procedural Generation in Arcane

One goal with Arcane was to familiarize myself with procedural content generation. In this case, the goal was specifically to randomly generate terrain using noise algorithms and procedurally populate that terrain with environmental detail and enemies.

### Mesh Generation

![Arcane](/media/MeshManipulation.gif)

The first step to procedurally generating content in Arcane was creating the terrain. After researching some noise algorithms, I opted to use perlin noise, utilizing multiple layers of noise waves at decreasing amplitudes to make the terrain less predictable and more realistic. My initial approach was to manipulate the mesh in a plane object generated by Unity. I ended up scrapping this and generating the terrain mesh through code from scratch. This gave me to have much more control over the terrain. I was able to implement features such as control over the distance between vertices, which let me directly alter the definition of the landscape. I also filtered the noise values through another randomly selected function using Unity’s Animation Curve feature. This resulted in different types of terrains in the levels such as rolling hills, mountains, or plains.

![Arcane](/media/MeshGeneration.gif)

### Object Placement

With the terrain mesh generation out of the way I moved on to populating the terrain with environmental detail. During my research I found Poisson disk sampling, an algorithm which resulted in randomly placed points within a certain distance from each other. I initially used this technique to place everything in my environment, from grass and trees to chests and enemies. At this point in the project I had more or less accomplished my original goals, but the environments I was generating didn’t quite feel right. The terrain was varied, but the environments seemed to melt together and relying only on Poisson disk sampling for object placement made many of the levels feel static throughout the terrain. My original plan was to have all levels take place in a forest environment, which resulted in the same color scheme and assets being used in each level and only exacerbated this problem. I ultimately resolved these issues by incorporating perlin noise into the object placement and introducing different biomes in the game world. Using perlin noise to fluctuate the density of objects such as the grass or trees in the level resulted in a significantly more organic feel. As you can see above the game currently has four biomes each with their own unique of assets and color palettes. These features along with some randomized skyboxes resulted in procedurally generated environments that I was happy with. When working with procedurally generated content its important to remember that two completely different walls of noise have no meaningful differences if you can’t make out any detail. In Arcane’s case I knew the terrain was sufficiently varied, but I needed to put in more effort to ensure the player’s perceived experience with each level was actually unique. Arcane still suffers from this problem to a degree and I believe a potential solution would be to decrease the game’s reliance on procedurally generated content and mix in authored content. This could be as simple as including pre-made buildings with designed enemy encounters in each level to break up the noise.

## Particle Effects in Arcane

The combat in Arcane revolves around the player collecting and upgrading various magical spells to take on increasingly challenging enemies. Due to the nature of the game, effectively using Unity’s particle system was essential to visually representing these spells and make the combat and the game as a whole engaging.

### Making 2D 3D

The main challenge I faced with particle effects in Arcane was learning to workaround the limitations caused by my lack of experience with technical art. Making textures and 3D modeling were beyond my skillset as a programmer, but these skills seemed necessary for representing objects such as fireballs in my game. While researching various methods to make the magical spells in Arcane come to life, I found a technique that would allow me to use simple 2D sprites to make 3D effects. Above you can see these steps for making an energy arrow in the game. 

I used this process to create many of the attacks in Arcane. Above you can see some examples with combat against a dragon enemy who has a few ways of shooting fire at the player. Designing these effects gave me a small taste of what kind of work a technical artist might engage in. In the future I’d like to explore more advanced techniques such as the use of vector fields to create more sophisticated and interesting effects.

[back](./)